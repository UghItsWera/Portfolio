@model WeronikaPortfolio.Models.AdminViewModel

@{
    Layout = "_AdminLayout";
}

<link rel="stylesheet" href="~/css/admin.css" />
<link rel="stylesheet" href="~/css/styles.css" />
<script src="~/js/admin.js" defer></script>

<h2>ðŸŒ¸ Admin Dashboard</h2>

<!-- ðŸŒ¸ ABOUT SECTION -->
<h3>About Section</h3>
<form asp-action="UpdateAbout" method="post" enctype="multipart/form-data">
    <textarea name="BioText" rows="4" placeholder="Bio">@Model.About?.BioText</textarea><br />
    <label>Profile Image:</label><br />
    <input type="file" name="ProfileImage" accept="image/*" /><br />
    <button type="submit" class="btn btn-pink">Update About</button>
</form>

<hr />

<!-- ðŸŒ¸ PROJECTS SECTION -->
<h3>Projects</h3>

@foreach (var project in Model.Projects)
{
    <div class="project-card">
        <h4>@project.Title</h4>
        <p>@project.Description</p>
        <a href="@project.Link" target="_blank">View Project</a><br />

        <form asp-action="DeleteProject" method="post" style="display:inline;">
            <input type="hidden" name="id" value="@project.Id" />
            <button type="submit" class="btn btn-red">Delete Project</button>
        </form>

        <h5>Images</h5>

        @if (project.Images != null && project.Images.Count > 0)
        {
            <div class="slideshow-container" id="slideshow-@project.Id">
                @foreach (var img in project.Images)
                {
                    <div class="slide fade">
                        <img src="@img.ImagePath" alt="Screenshot" class="slide-image" />
                    </div>
                }
                <a class="prev" onclick="changeSlide(-1, @project.Id)">&#10094;</a>
                <a class="next" onclick="changeSlide(1, @project.Id)">&#10095;</a>
            </div>
        }
    </div>
    <hr />
}

<!-- ðŸŒ¸ ADD NEW PROJECT -->
<h3>Add New Project</h3>
<form asp-action="AddProject" method="post" enctype="multipart/form-data">
    <input type="text" name="Title" placeholder="Title" required /><br />
    <textarea name="Description" placeholder="Description" required></textarea><br />
    <input type="text" name="Link" placeholder="Project Link" /><br />
    <input type="text" name="VideoUrl" placeholder="Video URL" /><br />

    <label>Upload Images:</label>
    <input type="file" name="Images" multiple accept="image/*" /><br />

    <button type="submit" class="btn btn-pink">Add Project</button>
</form>